### [328. 奇偶链表 - 力扣（LeetCode）](https://leetcode.cn/problems/odd-even-linked-list/description/)



给定单链表的头节点 `head` ，将所有索引为奇数的节点和索引为偶数的节点分别组合在一起，然后返回重新排序的列表。

**第一个**节点的索引被认为是 **奇数** ， **第二个**节点的索引为 **偶数** ，以此类推。

请注意，偶数组和奇数组内部的相对顺序应该与输入时保持一致。

你必须在 `O(1)` 的额外空间复杂度和 `O(n)` 的时间复杂度下解决这个问题。

 

**示例 1:**

![img](https://assets.leetcode.com/uploads/2021/03/10/oddeven-linked-list.jpg)

```
输入: head = [1,2,3,4,5]
输出: [1,3,5,2,4]
```

**示例 2:**

![img](https://assets.leetcode.com/uploads/2021/03/10/oddeven2-linked-list.jpg)

```
输入: head = [2,1,3,5,6,4,7]
输出: [2,3,6,7,1,5,4]
```

 

**提示:**

- `n == ` 链表中的节点数
- `0 <= n <= 104`
- `-106 <= Node.val <= 106`

<img src="https://palepics.oss-cn-guangzhou.aliyuncs.com/img/image-20221109195210660.png" alt="image-20221109195210660" style="zoom:67%;" />



奇数指针不断串连奇数节点，偶数指针不断串连偶数节点，最后奇数指针的结尾连接偶数节点的开始



需要保证even指向的节点和even.next同时不为空在进行遍历，这样的话odd最终指向的节点就是奇数链表的尾部，直接让其链接到even链表的头部完成串联

```java
class Solution {
    public ListNode oddEvenList(ListNode head) {
        if(head == null) return head;
        
        ListNode odd = head; //指向奇数链表的头
        ListNode even = head.next; //指向偶数链表的头
        ListNode evenhead = even;
        while(even != null && even.next != null){ 
            odd.next = even.next; //奇数指针的next指向偶数指针的next
            odd = odd.next; //奇数指针移动
            even.next = odd.next; //偶数指针的next指向奇数指针的next
            even = even.next; //偶数指针移动
        }
        odd.next = evenhead;
        return head;

    }
}
```

时间复杂度：O(n)

空间复杂度：O(1)



```java
class Solution {
    public ListNode oddEvenList(ListNode head) {
        if(head == null || head.next == null || head.next.next == null) return head;
        ListNode odd = head;
        ListNode even = head.next;
        ListNode p1 = odd;
        ListNode p2 = even;
        while(p2.next != null && p2.next.next != null){
            p1.next = p2.next;
            p1 = p1.next;
            p2.next = p1.next;
            p2 = p2.next;
        } 
        if(p2.next != null && p2.next.next == null){
            p1.next = p2.next;
            p2.next = null;
            p1 = p1.next;
        }
        p1.next = even;
        return odd;
    }
}
```

